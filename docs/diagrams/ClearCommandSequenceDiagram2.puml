@startuml
/' Sequence Diagram for import feature'/
!include style.puml
box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant "clearCommand:ClearCommand" as ClearCommand LOGIC_COLOR
participant "orderBook:OrderBook" as OrderBook LOGIC_COLOR
participant "returnOrderBook:ReturnOrderBook" as ReturnOrderBook LOGIC_COLOR
participant "result:CommandResult" as CommandResult LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant ":Model" as Model MODEL_COLOR
end box
activate LogicManager

group sd Execution of the Clear Command Sequence Diagram

LogicManager -> ClearCommand ++ : execute(model)

opt `-o` flag and `-f` flag found in flags
    create OrderBook
    ClearCommand -> OrderBook ++

    OrderBook --> ClearCommand -- : orderBook

    ClearCommand -> Model ++ : setOrderBook(orderBook)
    Model --> ClearCommand --

    create CommandResult
    ClearCommand -> CommandResult ++ : MESSAGE_SUCCESS_ORDER_BOOK

    CommandResult --> ClearCommand -- : result
else `-r` flag and `-f` flag found in flags
    create ReturnOrderBook
    ClearCommand -> ReturnOrderBook ++

    ReturnOrderBook --> ClearCommand -- : returnOrderBook

    ClearCommand -> Model ++ : setReturnOrderBook(returnOrderBook)
    Model --> ClearCommand --

    create CommandResult
    ClearCommand -> CommandResult ++ : MESSAGE_SUCCESS_RETURN_BOOK

    CommandResult --> ClearCommand -- : result
else Only `-f` flag found in flags
    create OrderBook
    ClearCommand -> OrderBook ++
    OrderBook --> ClearCommand -- : OrderBook

    create ReturnOrderBook
    ClearCommand -> ReturnOrderBook ++
    ReturnOrderBook --> ClearCommand -- : returnOrderBook

    ClearCommand -> Model ++ : setOrderBook(orderBook)
    Model --> ClearCommand --

    ClearCommand -> Model ++ : setReturnOrderBook(returnOrderBook)
    Model --> ClearCommand --

    create CommandResult
    ClearCommand -> CommandResult ++ : MESSAGE_SUCCESS_BOTH_BOOK

    CommandResult --> ClearCommand -- : result
else Only `-o` flag found in flags
     create CommandResult
     ClearCommand -> CommandResult ++ : MESSAGE_ENQUIRY_ORDER_BOOK

    CommandResult --> ClearCommand -- : result
else Only `-r` flag found in flags
    create CommandResult
    ClearCommand -> CommandResult ++ : MESSAGE_ENQUIRY_RETURN_BOOK

    CommandResult --> ClearCommand -- : result
else No flag found in flags
    create CommandResult
    ClearCommand -> CommandResult ++ : MESSAGE_ENQUIRY_BOTH_BOOK

    CommandResult --> ClearCommand -- : result
end

ClearCommand --> LogicManager : result
deactivate ClearCommand

[<--LogicManager
deactivate LogicManager

end
@enduml
