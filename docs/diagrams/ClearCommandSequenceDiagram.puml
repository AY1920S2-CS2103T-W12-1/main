@startuml
/' Sequence Diagram for postal sector search '/
!include style.puml
box Logic LOGIC_COLOR_T1
participant ":LogicManager" as LogicManager LOGIC_COLOR
participant ":OrderBookParser" as OrderBookParser LOGIC_COLOR
participant ":ClearCommandParser" as ClearCommandParser LOGIC_COLOR
participant "clearCommand:ClearCommand" as ClearCommand LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant ":Model" as Model MODEL_COLOR
end box

[-> LogicManager : execute("clear -o -f")
activate LogicManager

LogicManager -> OrderBookParser : parseCommand("clear -o -f")
activate OrderBookParser

create ClearCommandParser
OrderBookParser -> ClearCommandParser ++

ClearCommandParser --> OrderBookParser --

OrderBookParser -> ClearCommandParser ++ : parse("-o -f")

ClearCommandParser -> ClearCommandParser ++ : retrieveFlags(args)
loop until no flag in args

    opt invalid flag and invalid flag format occurs
        ClearCommandParser --> OrderBookParser : ParseException
        OrderBookParser --> LogicManager : ParseException

    end

    ClearCommandParser --> ClearCommandParser -- : flags
    ClearCommandParser -[hidden]-> ClearCommandParser
end

create ClearCommand
ClearCommandParser -> ClearCommand ++ : flags

ClearCommand --> ClearCommandParser -- : clearCommand

ClearCommandParser --> OrderBookParser -- : clearCommand
'Hidden arrow to position the destroy marker below the end of the activation bar.
ClearCommandParser -[hidden]-> OrderBookParser
destroy ClearCommandParser

OrderBookParser --> LogicManager -- : clearCommand

ref over LogicManager,  Model : Execution of the Clear Command Sequence Diagram


[<--LogicManager : result
deactivate LogicManager
@enduml
